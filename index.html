<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>G.M.D-Shop</title>
    <link rel="stylesheet" href="./index.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <h1 id="loader">Loading products...</h1>
    <div class="card-container" id="display"></div>

    <script>
        function createHeader() {
            const header = document.createElement("header");
            header.innerHTML = `
                <div class="nav-container">
                    <div class="logo">üõçÔ∏è G.M.D-Shop</div>
                    <nav>
                        <ul class="nav-links">
                            <li><a href="#">Home</a></li>
                            <li><a href="#">Products</a></li>
                            <li><a href="#">About</a></li>
                            <li><a href="#">Contact</a></li>
                        </ul>
                        <div class="hamburger">
                            <span></span><span></span><span></span>
                        </div>
                    </nav>
                </div>
            `;
            document.body.prepend(header);

            const hamburger = header.querySelector('.hamburger');
            const navLinks = header.querySelector('.nav-links');
            hamburger.addEventListener('click', () => {
                navLinks.classList.toggle('show');
            });
        }

        async function getProducts() {
            try {
                const res = await fetch("https://fakestoreapi.com/products");
                if (res.ok) {
                    const data = await res.json();
                    document.getElementById("loader").style.display = "none";
                    displayProducts(data);
                } else {
                    document.getElementById("loader").innerText = "Failed to load products.";
                }
            } catch (error) {
                document.getElementById("loader").innerText = "Error fetching products.";
                console.error("Fetch error:", error);
            }
        }

        function displayProducts(data) {
            const display = document.getElementById("display");
            data.forEach(product => {
                const card = document.createElement("div");
                card.classList.add("card");
                card.innerHTML = `
                    <img src="${product.image}" alt="${product.title}">
                    <h2>${product.title}</h2>
                    <p class="desc">${product.description.slice(0, 100)}...</p>
                    <p class="price"><strong>$${product.price}</strong></p>
                    <p class="category">${product.category.toUpperCase()}</p>
                `;
                display.appendChild(card);
            });
        }

        createHeader();
        getProducts();
    </script>
</body>
</html>
