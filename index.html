<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./index.css">
</head>

<body>
    <h1 id="loader"></h1>
    <div class="card-container" id="display"></div>
    
    
</body>
<script>
    function createHeader() {
    const header = document.createElement("header");
    header.innerHTML = `
        <div class="nav-container">
            <div class="logo">G.M.D-Shop</div>
            <nav>
                <ul class="nav-links">
                    <li><a href="#">Home</a></li>
                    <li><a href="#">Products</a></li>
                    <li><a href="#">About</a></li>
                    <li><a href="#">Contact</a></li>
                </ul>
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </nav>
        </div>
    `;
    document.body.prepend(header);

    // Toggle menu on mobile
    const hamburger = header.querySelector('.hamburger');
    const navLinks = header.querySelector('.nav-links');
    hamburger.addEventListener('click', () => {
        navLinks.classList.toggle('show');
    });
}

createHeader();

    //making a network request from our website to another website
    // this will take a very long time
    // so we have to make it async
    // async function getTodos() {
    // try{
    //     const response = await fetch("https://jsonplaceholder.typicode.com/todos/");
    //     const data = await response.json()
    //     console.log(data);
    // } 
    
    
    
    // catch(error){
    //     console.log(error);
        
    // }
        
        
    // }
    // getTodos()

    async function getProducts() {
    try {
        const res = await fetch("https://fakestoreapi.com/products");
        if (res.ok) {
            const data = await res.json();
            displayProducts(data);
        } else {
            console.error("Failed to fetch products:", res.status);
        }
    } catch (error) {
        console.error("Error fetching products:", error);
    }
}

function displayProducts(data) {
    const display = document.getElementById("display");
    data.forEach(product => {
        display.innerHTML += `
            <div class="card">
                <h1>${product.description.slice(0, 100).toUpperCase()}</h1>
                <p>$${product.price}</p>
                <p><strong>Price:</strong> $${product.price}</p>
                <p><strong>Category:</strong> ${product.category.toUpperCase()}</p>
                <img src="${product.image}" alt="${product.title}">
            </div>
        `;
    });
}

getProducts();

   
</script>

</html>